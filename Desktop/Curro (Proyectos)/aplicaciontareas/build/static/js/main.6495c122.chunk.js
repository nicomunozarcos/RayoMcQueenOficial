(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,a,t){},35:function(e,a,t){e.exports=t(53)},42:function(e,a,t){},43:function(e,a,t){},45:function(e,a,t){},53:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(28),o=t(1);t(42),t(8);const c=()=>l.a.createElement("footer",{className:"footer"},l.a.createElement("div",{className:"footer-content"},l.a.createElement("p",{className:"footer-text"},"P\xe1gina hecha por Nicol\xe1s Mu\xf1oz \xa9 ",(new Date).getFullYear()),l.a.createElement("p",{className:"footer-text"},"Todos los derechos reservados."),l.a.createElement("p",{className:"footer-text"},"Contacto: nicomunozarcos@gmail.com"))),s=()=>{const[e,a]=Object(n.useState)(""),[t,r]=Object(n.useState)(""),[s,m]=Object(n.useState)(""),[i,d]=Object(n.useState)(0),u=Object(o.p)();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row "},l.a.createElement("div",{className:"col-6 mx-4 align-self-center mt-5 diapositivas"},l.a.createElement("div",{className:`diapositiva ${0===i?"active":""}`},l.a.createElement("h1",{className:"mb-4 pt-4"},"Tareas"),l.a.createElement("p",{className:"pperson"},"- En nuestra p\xe1gina web, puedes gestionar tus tareas de manera eficiente."),l.a.createElement("p",{className:"pperson"},"- Organiza tus tareas por fecha, prioridad o categor\xeda."),l.a.createElement("p",{className:"pperson"},"- Marca las tareas completadas y mant\xe9n un seguimiento de tu progreso.")),l.a.createElement("div",{className:`diapositiva ${1===i?"active":""}`},l.a.createElement("h1",{className:"mb-4 pt-4"},"Bloc de notas"),l.a.createElement("p",{className:"pperson"},"- Adem\xe1s de las tareas, ofrecemos un bloc de notas integrado."),l.a.createElement("p",{className:"pperson"},"- Toma notas r\xe1pidas, guarda ideas o anota recordatorios importantes."),l.a.createElement("p",{className:"pperson"},"- El bloc de notas est\xe1 siempre a tu alcance, sin necesidad de utilizar aplicaciones adicionales.")),l.a.createElement("div",{className:`diapositiva ${2===i?"active":""}`},l.a.createElement("h2",{className:"mb-4 pt-4"},"Organizaci\xf3n de departamentos"),l.a.createElement("p",{className:"pperson2"},"- Facilitamos la colaboraci\xf3n en equipo mediante la opci\xf3n de organizar grupos de trabajo."),l.a.createElement("p",{className:"pperson2"},"- Crea un grupo, invita a tus compa\xf1eros y compartan tareas, notas y archivos."),l.a.createElement("p",{className:"pperson2"},"- Trabajen juntos de manera eficiente y mant\xe9nganse actualizados.")),l.a.createElement("div",{className:"botones-diapositivas"},[0,1,2].map(e=>l.a.createElement("button",{key:e,className:`boton-diapositiva ${i===e?"active":""}`,onClick:()=>(e=>{d(e)})(e)})))),l.a.createElement("div",{className:"col-4 text-center align-self-center py-4 mt-3"},l.a.createElement("div",{className:"section pb-5 text-center posicionado"},l.a.createElement("h6",{className:"mb-0 pb-3 "},l.a.createElement("span",null,"Iniciar sesi\xf3n "),l.a.createElement("span",null,"Registrarse")),l.a.createElement("input",{className:"checkbox",type:"checkbox",id:"reg-log",name:"reg-log"}),l.a.createElement("label",{htmlFor:"reg-log"}),l.a.createElement("div",{className:"card-3d-wrap mx-auto mt-5"},l.a.createElement("div",{className:"card-3d-wrapper"},l.a.createElement("div",{className:"card-front"},l.a.createElement("div",{className:"center-wrap"},l.a.createElement("div",{className:"section text-center"},l.a.createElement("h4",{className:"mb-4 pb-3"},"Iniciar sesi\xf3n"),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"email",name:"logemail",className:"form-style",placeholder:"Tu email",id:"logemail",autoComplete:"off",value:e,onChange:e=>a(e.target.value)}),l.a.createElement("i",{className:"input-icon uil uil-at"})),l.a.createElement("div",{className:"form-group mt-2"},l.a.createElement("input",{type:"password",name:"logpass",className:"form-style",placeholder:"Tu contrase\xf1a",id:"logpass",autoComplete:"off",value:t,onChange:e=>r(e.target.value)}),l.a.createElement("i",{className:"input-icon uil uil-lock-alt"})),l.a.createElement("button",{className:"btnlogin mt-4",onClick:async()=>{try{const n=await fetch(" http://localhost:3000/api/login",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(console.log("ejecutandose"),n.ok){u("/inicio");const a=await n.json(),{fullName:l}=a,{ID:r}=a,o={ID:r,fullName:l,email:e,password:t};localStorage.setItem("userData",JSON.stringify(o)),console.log(o)}else{const e=await n.json();console.log(e)}}catch(a){console.log(a)}}},"Entrar"),l.a.createElement("p",{className:"mb-0 mt-4 text-center"},l.a.createElement("a",{href:"#0",className:"link"},"\xbfOlvidaste tu contrase\xf1a?"))))),l.a.createElement("div",{className:"card-back"},l.a.createElement("div",{className:"center-wrap"},l.a.createElement("div",{className:"section text-center"},l.a.createElement("h4",{className:"mb-4 pb-3"},"Registrarse"),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",name:"logname",className:"form-style",placeholder:"Tu nombre completo",id:"logname",autoComplete:"off",value:s,onChange:e=>m(e.target.value)}),l.a.createElement("i",{className:"input-icon uil uil-user"})),l.a.createElement("div",{className:"form-group mt-2"},l.a.createElement("input",{type:"email",name:"logemail",className:"form-style",placeholder:"Tu email",id:"logemail1",autoComplete:"off",value:e,onChange:e=>a(e.target.value)}),l.a.createElement("i",{className:"input-icon uil uil-at"})),l.a.createElement("div",{className:"form-group mt-2"},l.a.createElement("input",{type:"password",name:"logpass",className:"form-style",placeholder:"Tu contrase\xf1a",id:"logpass1",autoComplete:"off",value:t,onChange:e=>r(e.target.value)}),l.a.createElement("i",{className:"input-icon uil uil-lock-alt"})),l.a.createElement("button",{className:"btnlogin mt-4",onClick:async()=>{if(s&&e&&t)try{const n=await fetch("http://localhost:3000/api/register",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullName:s,email:e,password:t})});if(n.ok)u("/inicio");else{const e=await n.json();console.log(e)}}catch(a){console.log(a)}else alert("Todos los campos son obligatorios")}},"Registrarse"))))))))))),l.a.createElement(c,null))};var m=t(4);var i=function(){const[e,a]=Object(n.useState)("true"===localStorage.getItem("darkMode"));return Object(n.useEffect)(()=>{const a=document.querySelector("body"),t=document.querySelectorAll(".add-task");a.classList.toggle("dark-mode",e),t.forEach(function(a){a.classList.toggle("dark-mode",e)}),document.querySelectorAll(".agregar").forEach(function(a){a.classList.toggle("dark-mode",e)}),document.querySelectorAll(".navegacion-color").forEach(function(a){a.classList.toggle("dark-mode",e)}),document.querySelectorAll(".tablero-activo").forEach(function(a){a.classList.toggle("dark-mode",e)}),localStorage.setItem("darkMode",e)},[e]),l.a.createElement("label",{className:"switch"},l.a.createElement("input",{type:"checkbox",onChange:()=>{a(!e)},checked:e,id:"darkModeSwitch"}),l.a.createElement("span",{className:`slider ${e?"dark-mode":""}`}))};var d=()=>{const[e,a]=Object(n.useState)(!1);return l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{className:`btn btn-secondary btn-sm dropdown-toggle mx-3 pt-0 pb-0 ${e?"show":""}`,type:"button",onClick:()=>{a(!e)}},"Opciones"),l.a.createElement("ul",{className:`dropdown-menu dropdown-menu-dark arribaZ ${e?"show":""}`,style:{right:e?"0":"-100%"}},l.a.createElement("li",null,l.a.createElement(m.b,{className:"dropdown-item",to:"/micuenta"},"Mi cuenta")),l.a.createElement("li",null,l.a.createElement(m.b,{className:"dropdown-item",to:"/micuenta"},"A\xf1adir cuenta")),l.a.createElement("li",null,l.a.createElement("hr",{className:"dropdown-divider"})),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/",className:"dropdown-item",onClick:()=>{localStorage.removeItem("userData")}},"Cerrar Sesi\xf3n"))))};const u=()=>l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"navbar navbar-expand-lg pb-0 pt-0 "},l.a.createElement("div",{className:"container-fluid"},l.a.createElement(m.b,{className:"navbar-brand mx-3 inicio-color mb-0 mt-1 mb-lg-0",to:"/inicio"},"Inicio"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02"},l.a.createElement("ul",{className:"navbar-nav me-auto mb-0 mt-0 mx-5 mb-lg-0"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("h5",null,l.a.createElement(m.b,{className:"nav-link navegacion-color",to:"/tareas"},"Lista de tareas"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("h5",null,l.a.createElement(m.b,{className:"nav-link mx-4 navegacion-color",to:"/notas"},"Notas"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("h5",null,l.a.createElement(m.b,{className:"nav-link navegacion-color",to:"/departamento"},"Departamento")))),l.a.createElement(i,null),l.a.createElement("form",{className:"d-flex pt-00 mt-0",role:"search"},l.a.createElement("input",{className:"form-control me-2 heightsearch",type:"search",placeholder:"Buscar","aria-label":"Search"}),l.a.createElement("button",{className:"btn btn-outline-success btnheight",type:"submit",id:"buscar"},"Buscar")),l.a.createElement(d,null)))),l.a.createElement("hr",{style:{height:3,backgroundColor:"var(--text-color)",marginTop:0,opacity:"0.7",marginBottom:6}}));t(24);function p(e){let{agregarTarea:a,cerrarFormulario:t}=e;const[r,o]=Object(n.useState)(""),[c,s]=Object(n.useState)(""),[m,i]=Object(n.useState)(""),[d,u]=Object(n.useState)(""),[p,E]=Object(n.useState)(""),[b,g]=Object(n.useState)(""),[h,N]=Object(n.useState)(""),v=()=>{const e=new Date,a=e.getFullYear(),t=String(e.getMonth()+1).padStart(2,"0");return`${String(e.getDate()).padStart(2,"0")}-${t}-${a}`};return l.a.createElement("div",{className:"cuadro-dialogo-overlay"},l.a.createElement("div",{className:"cuadro-dialogo"},l.a.createElement("input",{type:"text",placeholder:"Nombre de la tarea *",value:r,onChange:e=>o(e.target.value),className:p?"error":""}),p&&l.a.createElement("div",{className:"error-message"},p),l.a.createElement("select",{value:c,onChange:e=>s(e.target.value),className:b?"error":""},l.a.createElement("option",{value:"",disabled:!0,hidden:!0},"Seleccionar prioridad *"),l.a.createElement("option",{value:"BAJA"},"Baja"),l.a.createElement("option",{value:"MEDIA"},"Media"),l.a.createElement("option",{value:"ALTA"},"Alta"),l.a.createElement("option",{value:"URGENTE"},"Urgente")),b&&l.a.createElement("div",{className:"error-message"},b),l.a.createElement("input",{type:"text",placeholder:"Fecha de finalizaci\xf3n (DD-MM-AAAA)",value:m,onChange:e=>i(e.target.value),className:h?"error":""}),h&&l.a.createElement("div",{className:"error-message"},h),l.a.createElement("textarea",{placeholder:"Observaciones",value:d,onChange:e=>u(e.target.value)}),l.a.createElement("button",{className:"aceptar",onClick:()=>{let e=!0;if(r?E(""):(E("Campo obligatorio"),e=!1),c?g(""):(g("Debe seleccionar una prioridad"),e=!1),m&&!/^\d{2}-\d{2}-\d{4}$/.test(m)?(N("Formato incorrecto (DD-MM-AAAA)"),e=!1):N(""),e){const e={nombre:r,prioridad:c,fechaCreacion:v(),fechaFinalizacion:m,observaciones:d};a(e),t()}}},"Guardar"),l.a.createElement("button",{className:"cancelar",onClick:t},"Cancelar")))}function E(e){let{agregarTarea:a,className:t}=e;const[r,o]=Object(n.useState)(!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:`add-task pt-0 pb-0 ${t}`,id:"verde",onClick:()=>{o(!0)}},"+"),r&&l.a.createElement(p,{agregarTarea:a,cerrarFormulario:()=>{o(!1)}}))}t(43);const b=Object(n.createContext)(),g=e=>{let{children:a}=e;const[t,r]=Object(n.useState)([]),[o,c]=Object(n.useState)(""),[s,m]=Object(n.useState)(2);Object(n.useEffect)(()=>{const e=localStorage.getItem("tableroSeleccionado");e&&c(e)},[]);const i=async()=>{if(o)try{console.log(`Fetching tareas for tableroId: ${o}`);const a=await fetch(`http://localhost:3000/api/tareas/${o}`);if(console.log(`Response status: ${a.status}`),a.ok){const e=await a.json();console.log("Fetched tareas:",e),r(e),localStorage.setItem("tareasTableroSeleccionado",JSON.stringify(e))}else console.error("Error al actualizar las tareas:",a.statusText)}catch(e){console.error("Error al actualizar las tareas:",e)}else console.log("No tableroId available")};return l.a.createElement(b.Provider,{value:{tareas:t,actualizarTareas:i,handleMoveToOptionClick:async(e,a)=>{try{const n=await fetch(`http://localhost:3000/api/tareas/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({columna:a})});n.ok?(console.log("Tarea actualizada correctamente"),i()):console.error("Error al actualizar la tarea:",n.statusText)}catch(t){console.error("Error al actualizar la tarea:",t)}},handleDeleteClick:async e=>{try{const t=await fetch(`http://localhost:3000/api/tareas/${e}`,{method:"DELETE"});t.ok?(console.log("Tarea eliminada correctamente"),i()):console.error("Error al eliminar la tarea:",t.statusText)}catch(a){console.error("Error al eliminar la tarea:",a)}},tableroId:o,diasRestantes:s,actualizarDiasRestantes:e=>{m(e)},setTareas:r}},a)};var h=t(59);const N={TAREA:"tarea-card"};var v=t(20),f=t.n(v);function y(e){const{tareaId:a,fechaCreacion:t,fechaFinalizacion:r,prioridad:o,nombre:c,observaciones:s}=e,{handleMoveToOptionClick:m,handleDeleteClick:i,actualizarTareas:d}=Object(n.useContext)(b),{diasRestantes:u}=Object(n.useContext)(b),[p,E]=Object(n.useState)(!1),[g,v]=Object(n.useState)({x:0,y:0}),[y,T]=Object(n.useState)(!1),O=Object(n.useRef)(null),[{isDragging:C},S]=Object(h.a)(()=>({type:N.TAREA,item:{tareaId:a},collect:e=>({isDragging:!!e.isDragging()})})),j=e=>{O.current&&!O.current.contains(e.target)&&(E(!1),T(!1))};Object(n.useEffect)(()=>(document.addEventListener("click",j),()=>{document.removeEventListener("click",j)}),[]);let I="",w="";switch(o.toLowerCase()){case"baja":w="baja",I="baja2";break;case"media":w="media",I="media2";break;case"alta":w="alta",I="alta2";break;case"urgente":w="urgente",I="urgente2"}return Object(n.useEffect)(()=>{d()},[]),Object(n.useEffect)(()=>{const e=f()(),a=f()(r,"DD-MM-YYYY"),t=a.diff(e,"days");console.log(e),console.log(a),console.log(t),t<u&&"urgente"!==o.toLowerCase()&&fetch("http://localhost:3000/api/tareas/",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({diasRestantes:u})}).then(e=>{if(!e.ok)throw new Error("Error al actualizar las tareas en la base de datos");console.log("Tareas actualizadas correctamente en la base de datos"),d()}).catch(e=>{console.error(e)})},[]),l.a.createElement("div",{className:`tarea-card ml-1 ${I} ${C?"tarea-dragging":""}`,onContextMenu:e=>{e.preventDefault();const{clientX:a,clientY:t}=e;v({x:a,y:t}),E(!0)},ref:S},p&&l.a.createElement("div",{ref:O,className:"context-menu2",style:{position:"absolute",top:g.y,left:g.x}},l.a.createElement("div",{className:"menu-item2"},l.a.createElement("span",null,"Editar")),l.a.createElement("div",{className:"menu-item2"},l.a.createElement("span",{onClick:()=>i(a)},"Eliminar")),l.a.createElement("div",{className:"menu-item2",onClick:()=>{T(!y)}},l.a.createElement("span",null,"Mover a:"),y&&l.a.createElement("div",{className:"move-to-options"},l.a.createElement("div",{className:"move-to-option",onClick:()=>m(a,"1")},"Pendientes"),l.a.createElement("div",{className:"move-to-option",onClick:()=>m(a,"2")},"En Progreso"),l.a.createElement("div",{className:"move-to-option",onClick:()=>m(a,"3")},"Acabadas")))),l.a.createElement("div",{className:"tarea-header"},l.a.createElement("div",{className:`tarea-priority ${w}`},o),l.a.createElement("div",{className:"tarea-name"},c)),l.a.createElement("div",{className:"tarea-body"},l.a.createElement("div",{className:"tarea-dates"},l.a.createElement("div",{className:"tarea-creation-date"},"Creada: ",t),l.a.createElement("div",{className:"tarea-finish-date"},"Finaliza: ",r)),l.a.createElement("div",{className:"tarea-observations"},s)))}function T(){const[e,a]=Object(n.useState)([]);Object(n.useEffect)(()=>{const e=localStorage.getItem("userData"),a=JSON.parse(e).ID;r(a)},[]);const t=t=>{const n={nombre:t.nombre,prioridad:"Urgente",fechaFinalizacion:t.fechaFinalizacion,observaciones:t.observaciones};a([...e,n])},r=e=>{fetch(`http://localhost:3000/api/tareas?TA_PRIORIDAD=URGENTE&usuarioId=${e}`).then(e=>e.json()).then(e=>{a(e)}).catch(e=>{console.error("Error al obtener las tareas:",e)})};return l.a.createElement(g,null,l.a.createElement(u,null),l.a.createElement("div",{className:"container mt-1 px-2"},l.a.createElement("div",{className:"row gutter"},l.a.createElement("div",{className:"col col-md-12 col-sm-12 col-lg-12 mt-0 pt-0 tareasdep py-0 px-3"},l.a.createElement("h3",{className:"mx-2"},"Tareas urgentes - pr\xf3xima finalizaci\xf3n"),l.a.createElement("div",{className:"tareasdep"},l.a.createElement(E,{agregarTarea:t,className:"addtaskdep"})))),l.a.createElement("div",{className:"container mt-1 pt-3 cuadroinicio"},e.map((e,a)=>l.a.createElement(y,{key:a,tareaId:e.TA_ID,fechaCreacion:e.TA_FECHAINI,fechaFinalizacion:e.TA_FECHAFIN,prioridad:e.TA_PRIORIDAD,nombre:e.TA_ASUNTO,observaciones:e.TA_OBSERVACIONES})))),l.a.createElement("div",{className:"container mt-4 px-2"},l.a.createElement("div",{className:"row gutter"},l.a.createElement("div",{className:"col col-md-12 col-sm-12 col-lg-12 mt-0 pt-0 tareasdep py-0 px-3"},l.a.createElement("h3",{className:"mx-2"},"Notas Importantes"),l.a.createElement("div",{className:"tareasdep"},l.a.createElement(E,{agregarTarea:t,className:"addtaskdep"})))),l.a.createElement("div",{className:"container mt-1 cuadroinicio-notas"})),l.a.createElement(c,null))}var O=t(60);const C=()=>{const{tareas:e,actualizarTareas:a}=Object(n.useContext)(b),[{isOver:t},r]=Object(O.a)(()=>({accept:N.TAREA,drop:e=>{const t=e.tareaId;fetch("http://localhost:3000/api/tareas/actualizar-columna",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({tareaId:t,nuevaColumna:"1"})}).then(e=>e.json()).then(e=>{console.log("Tarea actualizada:",e),a()}).catch(e=>{console.error("Error al actualizar la tarea:",e)})},collect:e=>({isOver:!!e.isOver()})})),o=e.filter(e=>"1"===e.TA_COLUMNA);return l.a.createElement("div",{className:"col col-md-4 col-sm-4 col-lg-4 justify-content-center mt-0 pt-0 full-height",id:"tareaspendientes-lista",ref:r},l.a.createElement("ul",{className:"lista-tareas"},o.map(e=>l.a.createElement(y,{key:e.TA_ID,tareaId:e.TA_ID,fechaCreacion:e.TA_FECHAINI,fechaFinalizacion:e.TA_FECHAFIN,prioridad:e.TA_PRIORIDAD,nombre:e.TA_ASUNTO,observaciones:e.TA_OBSERVACIONES}))))},S=()=>{const{tareas:e,actualizarTareas:a}=Object(n.useContext)(b),[{isOver:t},r]=Object(O.a)(()=>({accept:N.TAREA,drop:e=>{const t=e.tareaId;fetch("http://localhost:3000/api/tareas/actualizar-columna",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({tareaId:t,nuevaColumna:"2"})}).then(e=>e.json()).then(e=>{console.log("Tarea actualizada:",e),a()}).catch(e=>{console.error("Error al actualizar la tarea:",e)})},collect:e=>({isOver:!!e.isOver()})})),o=e.filter(e=>"2"===e.TA_COLUMNA);return l.a.createElement("div",{className:"col col-md-4 col-sm-4 col-lg-4 justify-content-center mt-0 pt-0 full-height",id:"tareasenprogreso-lista",ref:r},l.a.createElement("ul",{className:"lista-tareas"},o.map(e=>l.a.createElement(y,{key:e.TA_ID,tareaId:e.TA_ID,fechaCreacion:e.TA_FECHAINI,fechaFinalizacion:e.TA_FECHAFIN,prioridad:e.TA_PRIORIDAD,nombre:e.TA_ASUNTO,observaciones:e.TA_OBSERVACIONES}))))},j=()=>{const{tareas:e,actualizarTareas:a}=Object(n.useContext)(b),[{isOver:t},r]=Object(O.a)(()=>({accept:N.TAREA,drop:e=>{const t=e.tareaId;fetch("http://localhost:3000/api/tareas/actualizar-columna",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({tareaId:t,nuevaColumna:"3"})}).then(e=>e.json()).then(e=>{console.log("Tarea actualizada:",e),a()}).catch(e=>{console.error("Error al actualizar la tarea:",e)})},collect:e=>({isOver:!!e.isOver()})})),o=e.filter(e=>"3"===e.TA_COLUMNA);return l.a.createElement("div",{className:"col col-md-4 col-sm-4 col-lg-4 justify-content-center mt-0 pt-0 full-height",id:"tareasacabadas-lista",ref:r},l.a.createElement("ul",{className:"lista-tareas"},o.map(e=>l.a.createElement(y,{key:e.TA_ID,tareaId:e.TA_ID,fechaCreacion:e.TA_FECHAINI,fechaFinalizacion:e.TA_FECHAFIN,prioridad:e.TA_PRIORIDAD,nombre:e.TA_ASUNTO,observaciones:e.TA_OBSERVACIONES}))))};function I(e){let{agregarTarea:a,agregarTareaEnProgreso:t,agregarTareaAcabada:r}=e;return Object(n.useEffect)(()=>{const e=document.getElementById("lista-tareas-header"),a=()=>{window.scrollY>e.offsetTop?e.classList.add("fixed"):e.classList.remove("fixed")};return window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}},[]),l.a.createElement("div",{className:"row gutter no wrap",id:"lista-tareas-header"},l.a.createElement("div",{className:"col col-md-4 col-sm-4 col-lg-4 justify-content-center mt-0 pt-0",id:"tareaspendientes"},l.a.createElement("h5",{className:"tareas-color"},"Pendientes",l.a.createElement(E,{agregarTarea:a}))),l.a.createElement("div",{className:"col col-md-4 col-sm-4 col-lg-4 justify-content-center mt-0 pt-0",id:"tareasenprogreso"},l.a.createElement("h5",{className:"tareas-color"},"En progreso",l.a.createElement(E,{agregarTarea:t}))),l.a.createElement("div",{className:"col col-md-4 col-sm-4 col-lg-4 justify-content-center mt-0 pt-0",id:"tareasacabadas"},l.a.createElement("h5",{className:"tareas-color"},"Acabadas",l.a.createElement(E,{agregarTarea:r}))))}function w(){const{tableroId:e,tareas:a,actualizarTareas:t}=Object(n.useContext)(b);if(console.log(e),console.log(a),Object(n.useEffect)(()=>{t()},[t]),!a)return l.a.createElement("div",null,"Cargando tareas...");return l.a.createElement("div",{className:"container"},l.a.createElement(I,{agregarTarea:async n=>{const l=JSON.parse(localStorage.getItem("userData")).ID,r={prioridad:n.prioridad,nombre:n.nombre,observaciones:n.observaciones,fechaCreacion:n.fechaCreacion,fechaFinalizacion:n.fechaFinalizacion,departamento:n.ID_DEPARTAMENTO,idusuario:l,idtabla:e,columna:1};try{const e=await fetch("http://localhost:3000/api/tareas/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(e.ok){const n=await e.json();t([...a,n])}else console.error("Error al guardar la tarea")}catch(o){console.error("Error en la solicitud",o)}},agregarTareaEnProgreso:async n=>{const l=JSON.parse(localStorage.getItem("userData")).ID,r={prioridad:n.prioridad,nombre:n.nombre,observaciones:n.observaciones,fechaCreacion:n.fechaCreacion,fechaFinalizacion:n.fechaFinalizacion,departamento:n.ID_DEPARTAMENTO,idusuario:l,idtabla:e,columna:2};try{const e=await fetch("http://localhost:3000/api/tareas/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(e.ok){const n=await e.json();t([...a,n])}else console.error("Error al guardar la tarea")}catch(o){console.error("Error en la solicitud",o)}},agregarTareaAcabada:async n=>{const l=JSON.parse(localStorage.getItem("userData")).ID,r={prioridad:n.prioridad,nombre:n.nombre,observaciones:n.observaciones,fechaCreacion:n.fechaCreacion,fechaFinalizacion:n.fechaFinalizacion,departamento:n.ID_DEPARTAMENTO,idusuario:l,idtabla:e,columna:3};try{const e=await fetch("http://localhost:3000/api/tareas/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(e.ok){const n=await e.json();t([...a,n])}else console.error("Error al guardar la tarea")}catch(o){console.error("Error en la solicitud",o)}}}),l.a.createElement("div",{className:"row gutter"},l.a.createElement(C,null),l.a.createElement(S,null),l.a.createElement(j,null)," */"))}function k(){const[e,a]=Object(n.useState)(!1),[t,r]=Object(n.useState)(!1),[o,c]=Object(n.useState)([]),[s,i]=Object(n.useState)(!1),[d,u]=Object(n.useState)(null),{actualizarTareas:p,diasRestantes:E,actualizarDiasRestantes:g}=Object(n.useContext)(b),[h,N]=Object(n.useState)(null);Object(n.useEffect)(()=>{if(console.log("Tableros: ",o),o.length>0){const e=localStorage.getItem("tableroSeleccionado");if(e){const a=o.find(a=>a.TT_ID.toString()===e);a?N(a):(N(o[0]),p(o[0]))}}},[o,p]);const v=()=>{const e=JSON.parse(localStorage.getItem("userData")).ID;fetch(`http://localhost:3000/api/tableros-tareas/${e}`).then(e=>e.json()).then(e=>{c(e);const a=e[0];N(a),p(a)}).catch(e=>console.error("Error:",e))};Object(n.useEffect)(()=>{v()},[v]);const f=e=>{N(e),localStorage.setItem("tableroSeleccionado",e.TT_ID.toString()),p(e),u(null)},y=e=>{fetch(`http://localhost:3000/api/tableros-tareas/${e.TT_ID}`,{method:"DELETE"}).then(e=>e.json()).then(e=>{console.log(e),v()}).catch(e=>console.error("Error:",e)).finally(()=>{f(o[0])})};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:`dropdown-container ${s?"show-confirmation":""}`},l.a.createElement("div",{className:"dropdown1"},l.a.createElement("button",{className:`btn btn-secondary btn-sm dropdown-toggle mx-2 pt-0 pb-0 mb-2 ${e?"show":""}`,type:"button",onClick:()=>{a(!e)}},"Tableros de Tareas"),h&&l.a.createElement("h5",{className:"tablero-activo pb-0 mb-0 pt-0 mt-0"},": ",h.TT_NOMBRE),e&&l.a.createElement("ul",{className:"dropdown-menu dropdown-menu-dark arribaZ show"},o.map((e,a)=>l.a.createElement("li",{key:a},l.a.createElement("div",{className:"tablero-item"},l.a.createElement(m.b,{className:"dropdown-item drptext",onClick:()=>f(e)},e.TT_NOMBRE),l.a.createElement("button",{className:"borrar-tablero",onClick:()=>(e=>{u(e),i(!0)})(e)},"X")))),l.a.createElement("li",null,l.a.createElement("hr",{className:"dropdown-divider my-2"})),l.a.createElement("li",null,l.a.createElement("button",{type:"button",className:"btn btn-outline-success mt-0 btncreartablero mx-4",onClick:()=>{const e=window.prompt("Ingrese el nombre del tablero:");if(e){const a=JSON.parse(localStorage.getItem("userData")).ID;fetch(`http://localhost:3000/api/tableros-tareas/${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombreTablero:e})}).then(e=>e.json()).then(e=>{console.log(e),v()}).catch(e=>console.error("Error:",e))}}},"Crear tablero"))),s&&l.a.createElement("div",{className:"alerta-confirmacion"},l.a.createElement("p",null,"\xbfEst\xe1s seguro de que deseas borrar el tablero ",d&&d.TT_NOMBRE,"?"),l.a.createElement("button",{className:"btn btn-danger btn-sm mx-2",onClick:()=>{i(!1),(e=>{fetch(`http://localhost:3000/api/tareas/tablero/${e.TT_ID}`,{method:"DELETE"}).then(e=>e.json()).then(e=>{console.log(e)}).catch(e=>console.error("Error:",e)).finally(()=>{y(e)})})(d)}},"S\xed"),l.a.createElement("button",{className:"btn btn-secondary btn-sm",onClick:()=>i(!1)},"No"))),l.a.createElement("div",{className:"dropdown-container2 mx-3 px-1"},l.a.createElement("div",{className:"dropdown2"},l.a.createElement("button",{className:`btn btn-secondary btn-sm dropdown-toggle mx-3 pt-0 pb-0 ${t?"show":""}`,type:"button",onClick:()=>{r(!t)}}),l.a.createElement("ul",{className:`dropdown-menu dropdown-menu-dark arribaZ drptext4 ${t?"show":""}`,style:{right:t?"0":"-100%"}},l.a.createElement("li",null,l.a.createElement("div",{className:"dropdown-item pb-0"},l.a.createElement("div",{htmlFor:"daysInput",className:"form-label"},"Las tareas se marcan automaticamente "),l.a.createElement("div",{htmlFor:"daysInput",className:"form-label"}," como urgentes cuando quedan:",l.a.createElement("input",{id:"daysInput",type:"number",className:" input-small",value:E,onChange:e=>(e=>{const a=parseInt(e.target.value);g(a)})(parseInt(e.target.value))})," d\xedas "))),l.a.createElement("li",null,l.a.createElement("hr",{className:"dropdown-divider pt-0"})),l.a.createElement("li",null))))))}function A(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(u,null),l.a.createElement(k,null),l.a.createElement(w,null),l.a.createElement(c,null))}function x(){const[e,a]=Object(n.useState)(!1),[t,r]=Object(n.useState)([]),[o,c]=Object(n.useState)(null),[s,i]=Object(n.useState)([]),[d,u]=Object(n.useState)(!1),[p,E]=Object(n.useState)(null);console.log(o),console.log(s),Object(n.useEffect)(()=>{b()},[]),Object(n.useEffect)(()=>{const e=localStorage.getItem("tableroSeleccionado");if(t.length>0)if(e){const a=t.find(a=>a.TN_ID.toString()===e);c(a||t[0])}else c(t[0])},[t]);const b=()=>{const e=JSON.parse(localStorage.getItem("userData")).ID;fetch(`http://localhost:3000/api/tableros-notas/${e}`).then(e=>e.json()).then(e=>r(e)).catch(e=>console.error("Error:",e))},g=()=>{const e=o.TN_ID;fetch(`http://localhost:3000/api/notas/${e}`).then(e=>e.json()).then(e=>{i(e),localStorage.setItem("notasTableroSeleccionado",JSON.stringify(e))}).catch(e=>console.error("Error:",e))};Object(n.useEffect)(()=>{null!==o&&g()},[o]);return l.a.createElement("div",{className:`dropdown-container ${d?"show-confirmation":""}`},l.a.createElement("div",{className:"dropdown1"},l.a.createElement("button",{className:`btn btn-secondary btn-sm dropdown-toggle mx-2 pt-0 pb-0 mb-2 ${e?"show":""}`,type:"button",onClick:()=>{a(!e)}},"Tableros de Notas"),o&&l.a.createElement("h5",{className:"tablero-activo verdeclarito pb-0 mb-0 pt-0 mt-0"},": ",o.TN_NOMBRE),e&&l.a.createElement("ul",{className:"dropdown-menu dropdown-menu-dark arribaZ show"},t.map((e,a)=>l.a.createElement("li",{key:a},l.a.createElement("div",{className:"tablero-item"},l.a.createElement(m.b,{className:"dropdown-item drptext",onClick:()=>(e=>{c(e),localStorage.setItem("tableroSeleccionado",e.TN_ID.toString()),g(e.TN_ID),E(null)})(e)},e.TN_NOMBRE),l.a.createElement("button",{className:"borrar-tablero",onClick:()=>(e=>{E(e),u(!0)})(e)},"X")))),l.a.createElement("li",null,l.a.createElement("hr",{className:"dropdown-divider my-2"})),l.a.createElement("li",null,l.a.createElement("button",{type:"button",className:"btn btn-outline-success mt-0 btncreartablero mx-4",onClick:()=>{const e=window.prompt("Ingrese el nombre del tablero:");if(e){const a=JSON.parse(localStorage.getItem("userData")).ID;fetch(`http://localhost:3000/api/tableros-notas/${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombreTablero:e})}).then(e=>e.json()).then(e=>{console.log(e),b()}).catch(e=>console.error("Error:",e))}}},"Crear tablero"))),d&&l.a.createElement("div",{className:"alerta-confirmacion"},l.a.createElement("p",null,"\xbfEst\xe1s seguro de que deseas borrar el tablero ",p&&p.TN_NOMBRE,"?"),l.a.createElement("button",{className:"btn btn-danger btn-sm mx-2",onClick:()=>{u(!1),(e=>{fetch(`http://localhost:3000/api/tableros-notas/${e.TN_ID}`,{method:"DELETE"}).then(e=>e.json()).then(e=>{console.log(e),b()}).catch(e=>console.error("Error:",e))})(p)}},"S\xed"),l.a.createElement("button",{className:"btn btn-secondary btn-sm",onClick:()=>u(!1)},"No"))))}t(45);var D=t(33);const z=e=>{let{id:a,onDelete:t,isActive:r,onClick:o,zIndex:c}=e;console.log("onDelete:",t);const[s,m]=Object(n.useState)(!1),[i,d]=Object(n.useState)({x:0,y:0}),[u,p]=Object(n.useState)(""),[E,b]=Object(n.useState)(14),[g,h]=Object(n.useState)(16),[N,v]=Object(n.useState)(!1),f=(e,a)=>{console.log(`Color ${e} seleccionado: ${a}`)};return Object(n.useEffect)(()=>{const e=e=>{const a=document.getElementById("context-menu");a&&!a.contains(e.target)&&m(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]),l.a.createElement(D.a,{default:{x:0,y:15,width:200,height:100},minWidth:100,minHeight:50,bounds:"parent",enableResizing:{top:!0,right:!0,bottom:!0,left:!0,topRight:!1,bottomRight:!0,bottomLeft:!0,topLeft:!0},dragAxis:"both",style:{zIndex:r?9997:c},onClick:()=>{o(a)},onContextMenu:e=>{e.preventDefault();const{clientX:a,clientY:t}=e,n=e.target.getBoundingClientRect(),l=a-n.left,r=t-n.top;d({x:l,y:r}),m(!0)}},s&&l.a.createElement("div",{id:"context-menu",className:"context-menu",style:{position:"absolute",top:i.y,left:i.x}},l.a.createElement("div",{className:"menu-item"},l.a.createElement("span",null,"Color del texto:"),l.a.createElement("select",{onChange:e=>f("text",e.target.value)},l.a.createElement("option",{value:"red"},"Rojo"),l.a.createElement("option",{value:"green"},"Verde"),l.a.createElement("option",{value:"blue"},"Azul"))),l.a.createElement("div",{className:"menu-item"},l.a.createElement("span",null,"Color de fondo:"),l.a.createElement("select",{onChange:e=>f("background",e.target.value)},l.a.createElement("option",{value:"white"},"Blanco"),l.a.createElement("option",{value:"yellow"},"Amarillo"),l.a.createElement("option",{value:"pink"},"Rosa"))),l.a.createElement("div",{className:"menu-item"},l.a.createElement("span",null,"Tama\xf1o del texto:"),l.a.createElement("input",{className:"inputmenu",type:"number",value:E,onChange:e=>b(parseInt(e.target.value))})),l.a.createElement("div",{className:"menu-item"},l.a.createElement("span",null,"Tama\xf1o del t\xedtulo:"),l.a.createElement("input",{className:"inputmenu",type:"number",value:g,onChange:e=>h(parseInt(e.target.value))})),l.a.createElement("div",{className:"menu-item"},l.a.createElement("label",{for:"mi-checkbox"},"A\xf1adir a inicio",l.a.createElement("input",{id:"mi-checkbox",type:"checkbox",checked:N,onChange:e=>v(e.target.checked)})))),l.a.createElement("div",{className:"note-title",style:{fontSize:g}},u),l.a.createElement("textarea",{style:{width:"100%",height:"100%",fontSize:E},onChange:e=>p(e.target.value),value:u}),l.a.createElement("button",{className:"delete-button",onClick:()=>{window.confirm("\xbfDeseas eliminar la nota?")&&t(a)}}))},F=()=>{const[e,a]=Object(n.useState)([]),[t,r]=Object(n.useState)(null),[o,c]=Object(n.useState)([]),s=e=>{a(a=>a.filter(a=>a.id!==e)),r(a=>a===e?null:a),c(a=>a.filter(a=>a!==e))},m=e=>{r(e),c(a=>{const t=a.filter(a=>a!==e);return t.push(e),t})};return l.a.createElement("div",{className:"container",id:"tableronotas"},o.map(a=>{const n=e.find(e=>e.id===a);return n?l.a.createElement(z,{key:n.id,id:n.id,onDelete:s,isActive:t===n.id,onClick:m,zIndex:o.indexOf(a)+1}):null}),l.a.createElement("div",{className:"row gutter"},l.a.createElement("h3",{className:"agregar py-0 my-0"},l.a.createElement("button",{className:"add-task pt-0 mt-0",onClick:()=>{const e=Date.now(),t={id:e};a(e=>[...e,t]),r(e),c(a=>[...a,e])}},"+"),"Agregar nota"),l.a.createElement("div",{id:"nota"}),l.a.createElement("div",{className:"col offset-md-8 col-md-4 col-sm-4 col-lg-4 justify-content-center mt-0 pt-0"})))},_=()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(u,null),l.a.createElement(x,null),l.a.createElement(F,null),l.a.createElement(c,null));function R(){const[e,a]=Object(n.useState)([]),[t,r]=Object(n.useState)(!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container mt-1 px-2"},l.a.createElement("div",{className:"row gutter"},l.a.createElement("div",{className:"col col-md-12 col-sm-12 col-lg-12 mt-0 pt-0 tareasdep py-0 px-3"},l.a.createElement("h3",{className:"mx-2"},"Tareas del departamento"),l.a.createElement("div",{className:"tareasdep"},l.a.createElement(E,{agregarTarea:t=>{const n={nombre:t.nombre,prioridad:t.prioridad,fechaCreacion:t.fechaCreacion,fechaFinalizacion:t.fechaFinalizacion,observaciones:t.observaciones};a([...e,n])},className:"addtaskdep"})),l.a.createElement("div",{className:"dropdown fxright"},l.a.createElement("button",{className:`btn btn-secondary btn-sm dropdown-toggle mx-3 pt-0 pb-0 ${t?"show":""}`,type:"button",onClick:()=>{r(!t)}},"Mis departamentos"),l.a.createElement("ul",{className:`dropdown-menu dropdown-menu-dark arribaZ drptext3 ${t?"show":""}`,style:{right:t?"0":"-100%"}},l.a.createElement("li",null,l.a.createElement(m.b,{className:"dropdown-item pb-0"},"Mi departamento 1")),l.a.createElement("li",null,l.a.createElement(m.b,{className:"dropdown-item pb-0"},"Mi departamento 2")),l.a.createElement("li",null,l.a.createElement("hr",{className:"dropdown-divider pt-0"})),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/",className:"dropdown-item pt-0 mb-1"},"A\xf1adir departamento")))))),l.a.createElement("div",{className:"container mt-1 cuadrodepartamento"},l.a.createElement("div",{className:"container ",style:{display:"flex",justifyContent:"flex-start",alignContent:"flex-start",flexWrap:"wrap"}},e.map((e,a)=>l.a.createElement(y,{key:a,fechaFinalizacion:e.fechaFinalizacion,fechaCreacion:e.fechaCreacion,prioridad:e.prioridad,nombre:e.nombre,observaciones:e.observaciones}))))))}const $=()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(u,null),l.a.createElement(R,null),l.a.createElement(c,null)),M=()=>{const[e,a]=Object(n.useState)(()=>{const e=localStorage.getItem("userData"),a=e?JSON.parse(e):null;return a?a.fullName:"Nombre de usuario"}),[t,r]=Object(n.useState)(()=>{const e=localStorage.getItem("userData"),a=e?JSON.parse(e):null;return a?a.email:"correo@example.com"}),[o,s]=Object(n.useState)(""),m=a=>{a.preventDefault();const n=localStorage.getItem("userData"),l=n?JSON.parse(n):null,r=l?l.ID:null;fetch("http://localhost:3000/api/actualizar-datos",{method:"POST",body:JSON.stringify({userID:r,nombre:e,email:t,"contrase\xf1a":o}),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{console.log("Datos actualizados en la base de datos:",e)}).catch(e=>{console.error("Error al actualizar los datos:",e)}),console.log("Datos actualizados")},i=n=>{let l=prompt(`Introduzca su nuevo ${n}`,"Nombre"===n?e:"Email"===n?t:"");l&&("Nombre"===n?a(l):"Email"===n?r(l):"Contrase\xf1a"===n&&s(l))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(u,null),l.a.createElement("div",{className:"container mt-5 px-5 datos"},l.a.createElement("h3",{className:"grisaceoletra mx-0"},"Mi Cuenta"),l.a.createElement("form",{onSubmit:m},l.a.createElement("div",{className:"form-group mt-1"},l.a.createElement("label",{htmlFor:"nombre"},"Nombre:"),l.a.createElement("div",{className:"micuenta"},l.a.createElement("input",{type:"text",className:"form-control textocuenta",id:"nombre",value:e,onChange:e=>{a(e.target.value)},readOnly:!0}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{type:"button",className:"btn btn-outline-secondary botoncuenta",onClick:()=>i("Nombre")},"Editar")))),l.a.createElement("div",{className:"form-group mt-1"},l.a.createElement("label",{htmlFor:"email"},"Email:"),l.a.createElement("div",{className:"micuenta"},l.a.createElement("input",{type:"email",className:"form-control textocuenta",id:"email",value:t,onChange:e=>{r(e.target.value)},readOnly:!0}),l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"btn btn-outline-secondary botoncuenta",onClick:()=>i("Email")},"Editar")))),l.a.createElement("div",{className:"form-group mt-1"},l.a.createElement("label",{htmlFor:"contrase\xf1a"},"Contrase\xf1a:"),l.a.createElement("div",{className:"micuenta"},l.a.createElement("input",{type:"password",className:"form-control textocuenta",id:"contrase\xf1a",value:o,onChange:e=>{s(e.target.value)}}),l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"btn btn-outline-secondary botoncuenta",onClick:()=>i("Contrase\xf1a")},"Editar"))),l.a.createElement("button",{type:"button",className:"btn btn-outline-success botonconfirm mt-5",onClick:m},"Confirmar")))),l.a.createElement(c,null))};var J=t(58),P=t(32);const L=e=>{let{path:a,element:t}=e;return!!localStorage.getItem("userData")?t:l.a.createElement(o.a,{to:"/"})};function B(){return l.a.createElement(J.a,{backend:P.a},l.a.createElement(g,null,l.a.createElement(m.a,null,l.a.createElement(o.d,null,l.a.createElement(o.b,{exact:!0,path:"/",element:l.a.createElement(s,null)}),l.a.createElement(o.b,{path:"/inicio",element:l.a.createElement(L,{element:l.a.createElement(T,null)})}),l.a.createElement(o.b,{path:"/tareas",element:l.a.createElement(L,{element:l.a.createElement(A,null)})}),l.a.createElement(o.b,{path:"/notas",element:l.a.createElement(L,{element:l.a.createElement(_,null)})}),l.a.createElement(o.b,{path:"/departamento",element:l.a.createElement(L,{element:l.a.createElement($,null)})}),l.a.createElement(o.b,{path:"/micuenta",element:l.a.createElement(L,{element:l.a.createElement(M,null)})})))))}Object(r.createRoot)(document.getElementById("root")).render(l.a.createElement(n.StrictMode,null,l.a.createElement(B,null)))},8:function(e,a,t){}},[[35,1,2]]]);
//# sourceMappingURL=main.6495c122.chunk.js.map